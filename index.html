  <!DOCTYPE html>
  <html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Karasuno Volleyball Team 2012‚Äì2013</title>
    <style>
  /* -----------------------------------------------------------------------------------
  |  1. THI·∫æT L·∫¨P CHUNG (BASE STYLES)
  | ----------------------------------------------------------------------------------- */
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
  
      :root{
        --bg-1: linear-gradient(270deg, #000000, #1a1a1a, #222, #000000);
        --card-bg: rgba(20,20,20,0.9);
        --text: #ffffff;
        --accent: #ff9800;
        --glass: rgba(255,255,255,0.06);
      }
  
     [data-theme="light"] {
        --bg-1: linear-gradient(270deg, #fff8f0, #fff3e6, #ffe6cc, #fff8f0);
        --card-bg: rgba(255,255,255,0.95);
        --text: #111111;
        --accent: #ff6f00;
        --glass: rgba(0,0,0,0.06);
     }
  
      body {
        font-family: 'Poppins', sans-serif;
        background: var(--bg-1);
        background-size: 800% 800%;
        animation: gradientFlow 12s ease infinite;
        margin: 0;
        color: var(--text);
        transition: background 0.6s ease, color 0.4s ease;
        min-height: 100vh; /* ƒë·∫£m b·∫£o body ƒë·ªß cao */
        padding-bottom: 0; /* s·ª≠a l·ªói */ /* ch·ª´a ch·ªó cho footer fixed */
      }
  
      @keyframes gradientFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
  
      /* background image */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('https://i.redd.it/0lw2evuqfi0e1.png') center/cover no-repeat;
        opacity: 0.18;
        z-index: -2;
        filter: blur(2px) saturate(0.9);
        transition: opacity 0.4s ease;
      }
  /* -----------------------------------------------------------------------------------
  |  2. HEADER V√Ä CONTROLS
  | ----------------------------------------------------------------------------------- */
      header {
        text-align: left;
        padding: 24px 28px;
        background: rgba(0,0,0,0.5);
        border-bottom: 2px solid var(--accent);
        box-shadow: 0 0 20px rgba(255,140,0,0.18);
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:16px;
      }
      header .brand { display:flex; gap:12px; align-items:center; }
      .logo { width:56px; height:56px; border-radius:10px; background: linear-gradient(135deg,#000,#333); display:flex; align-items:center; justify-content:center; font-weight:700; color:var(--accent); box-shadow: 0 6px 18px rgba(0,0,0,0.4); }
      h1 { color: var(--accent); font-size: 1.4rem; margin:0; text-shadow: 0 0 10px rgba(255,140,0,0.25); }
      header p { margin:0; color: var(--text); opacity:0.9; font-size:0.95rem; }
      .controls { display:flex; gap:10px; align-items:center; }
      .btn { background: var(--glass); border: 1px solid rgba(255,255,255,0.06); color: var(--text); padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; backdrop-filter: blur(4px); transition: transform .18s ease, background .2s ease; display:inline-flex; gap:8px; align-items:center; }
      .btn:hover{ transform: translateY(-3px); }
      .toggle { width:48px; height:28px; background: rgba(255,255,255,0.06); border-radius:20px; display:flex; align-items:center; padding:4px; gap:4px; cursor:pointer; }
      .toggle .dot { width:20px;height:20px;border-radius:50%; background:var(--accent); transition: transform 0.25s ease, background 0.25s ease; }
  
  /* -----------------------------------------------------------------------------------
  |  3. TI·ªÇU S·ª¨ V√Ä MEDIA (INTRO & MEDIA)
  | ----------------------------------------------------------------------------------- */
  .intro {
    max-width: 1200px;
    margin: 60px auto;
    padding: 0 40px;
    background: var(--card-bg);
    border-radius: 18px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.4);
  }
  .intro-content {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    justify-content: space-between;
    gap: 40px;
    flex-wrap: nowrap;
  }
  .intro-text {
    flex: 1 1 55%;
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--text);
    text-align: justify;
  }
  .intro-gallery {
    flex: 1 1 40%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: center;
    justify-content: center;
  }
  .intro-gallery img {
    width: 100%;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .intro-gallery img:hover {
    transform: scale(1.03);
    box-shadow: 0 0 25px rgba(255, 140, 0, 0.5);
  }
  .bio-btn {
    margin: 8px 10px 8px 0;
    display: inline-flex;
  }
  .media-section {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 40px;
  }
  .video-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }
  .video-wrapper {
    aspect-ratio: 16/9;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  }
  .video-wrapper iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  
  /* Responsive Intro */
  @media (max-width: 768px) {
    .intro-content { flex-direction: column; align-items: center; }
    .intro { padding: 20px; margin: 20px auto; }
  }
  
  /* -----------------------------------------------------------------------------------
  |  4. TH·∫∫ C·∫¶U TH·ª¶ (PLAYER CARDS)
  | ----------------------------------------------------------------------------------- */
      .filter-container { text-align: center; margin: 18px 0; }
      .filter-container select { background: rgba(20,20,20,0.6); color: white; padding: 10px 16px; border: 1px solid var(--accent); border-radius: 8px; font-size: 0.95rem; cursor: pointer; transition: 0.25s; }
      .team-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
    gap: 24px; 
    padding: 20px 30px; 
    justify-items: center; 
    max-width:1400px; 
    margin: 0 auto; }
      .player-card {
        position: relative; background: var(--card-bg); border-radius: 14px; overflow: hidden; text-align: center; transition: 0.4s ease; width: 220px; 
    transform: translateY(20px); 
    opacity: 0; 
    animation: fadeIn .8s forwards; 
    box-shadow: 0 8px 30px rgba(0,0,0,0.35); 
    cursor: grab; 
    color: var(--text);
      }
      @keyframes fadeIn { to { opacity:1; transform: translateY(0); } }
      .player-card:hover { transform: translateY(-8px) scale(1.03); box-shadow: 0 18px 40px rgba(0,0,0,0.5); }
      .player-card img { width: 100%; height: 320px; object-fit: cover; transition: transform .45s ease, filter .35s ease; display:block; }
      .player-card:hover img { transform: translateY(-6px) scale(1.06) rotate(-1.5deg); filter: brightness(1.05); }
      .player-info { padding: 12px 12px 18px; }
      .player-name { font-size:1.05rem; color:var(--accent); margin-bottom:6px; font-weight:700; }
      .player-position { font-size:0.88rem; opacity:0.9; color: var(--text); }
      .player-details { position: absolute; bottom: -100%; left: 0; width: 100%; background: linear-gradient(180deg, rgba(0,0,0,0.75), rgba(0,0,0,0.92)); color: var(--text); padding: 12px; transition: bottom .35s ease; font-size: 0.88rem; text-align: left; }
      .player-card:hover .player-details { bottom: 0; }
      .player-details b { color: var(--accent); }
  
      [data-theme="light"] .player-card { box-shadow: 0 4px 12px rgba(0,0,0,0.1); border: 1px solid rgba(0,0,0,0.05); }
      [data-theme="light"] .player-details { background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.95)); color: #111 !important; }
      [data-theme="light"] .player-details b { color: #ff6f00; }
  
  /* -----------------------------------------------------------------------------------
  |  5. CH·∫æ ƒê·ªò COACH MODE (MODAL & COURT)
  | ----------------------------------------------------------------------------------- */
      .coach-modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 9999; background: rgba(2,2,2,0.6); backdrop-filter: blur(6px); padding: 20px; }
      .coach-panel { width: min(1100px, 96%); background: var(--card-bg); border-radius: 12px; padding: 18px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); color: var(--text); display: grid; grid-template-columns: 320px 1fr 260px; gap:12px; max-height:85vh; overflow:hidden; }
      .coach-left { overflow:auto; padding-right:8px; }
      .coach-left h3 { margin:0 0 10px 0; color:var(--accent); }
      .player-list { display:flex; flex-direction:column; gap:8px; }
      .coach-card { display:flex; gap:10px; align-items:center; padding:8px; border-radius:8px; background: rgba(0,0,0,0.12); cursor:grab; user-select:none; }
      .coach-card img { width:48px; height:48px; object-fit:cover; border-radius:6px; }
  
      /* Court */
      .court { background: linear-gradient(180deg,#1a3a2f,#0f2b1f); border-radius: 10px; padding: 12px; display:flex; flex-direction:column; gap:12px; align-items:center; justify-content:center; }
      .court-inner { width:100%; max-width: 560px; aspect-ratio: 16/9; position:relative; background: linear-gradient(180deg,#f3f3f3,#e6e6e6); border-radius:8px; box-shadow: inset 0 0 0 2px rgba(0,0,0,0.05); }
      .slot { width:90px; height:90px; border-radius:50%; background: rgba(255,255,255,0.95); position:absolute; display:flex; align-items:center; justify-content:center; font-size:0.78rem; font-weight:700; color:#222; text-align:center; border: 3px dashed rgba(0,0,0,0.06); transition: transform .18s ease, box-shadow .12s ease; padding:6px; }
      .slot.filled { border-style: solid; border-color: var(--accent); }
      .slot.slot-1 { left: 50%; top: 10%; transform: translate(-50%,-50%); } /* setter / front center */
      .slot.slot-2 { left: 20%; top: 30%; transform: translate(-50%,-50%); } /* left front */
      .slot.slot-3 { left: 80%; top: 30%; transform: translate(-50%,-50%); } /* right front */
      .slot.slot-4 { left: 20%; top: 65%; transform: translate(-50%,-50%); } /* left back */
      .slot.slot-5 { left: 80%; top: 65%; transform: translate(-50%,-50%); } /* right back */
      .slot.slot-6 { left: 50%; top: 85%; transform: translate(-50%,-50%); } /* libero/back center */
      .coach-right { padding-left:8px; overflow:auto; }
      .summary { background: rgba(0,0,0,0.06); padding:10px; border-radius:8px; }
      .small { font-size:0.85rem; opacity:0.9; }
      .muted { opacity:0.7; font-size:0.86rem; }
  
      /* Responsive Coach Panel */
      @media (max-width:980px){
        .coach-panel { grid-template-columns: 1fr; max-height:92vh; overflow:auto; }
        .coach-right { order:3; }
      }
  
  /* -----------------------------------------------------------------------------------
  |  6. FOOTER
  | ----------------------------------------------------------------------------------- */
      footer {
        text-align: center;
        padding: 22px;
        font-size: 0.85rem;
        color: #aaa;
        background: rgba(0,0,0,0.4);
        border-top: 1px solid rgba(255,255,255,0.03);
        position: static;
        left:0; right:0; bottom:0;
        backdrop-filter: blur(4px);
      }
    </style>
  </head>
  <body data-theme="dark">
  
  <header>
    <div class="brand">
      <div class="logo">Kar</div>
      <div>
        <h1>üèê Karasuno Volleyball Team (2012‚Äì2013)</h1>
        <p>ƒê·ªôi b√≥ng chuy·ªÅn trung h·ªçc Karasuno - ‚ÄúThe Flightless Crows‚Äù</p>
      </div>
    </div>
  
    <div class="controls">
      <label class="small muted">Nh·∫°c</label>
      <button id="musicToggle" class="btn" title="B·∫≠t/t·∫Øt nh·∫°c">üîä B·∫≠t nh·∫°c</button>
  
      <label class="small muted">Giao di·ªán</label>
      <div id="themeToggle" class="toggle" title="Ch·∫ø ƒë·ªô s√°ng/t·ªëi">
        <div class="dot"></div>
      </div>
  
      <button id="coachBtn" class="btn" title="V√†o Coach Mode">üß¢ Coach Mode</button>
    </div>
  </header>
  <section class="intro">
    <div class="intro-content">
      <div class="intro-text">
        <h2>üè´ Ti·ªÉu s·ª≠ Tr∆∞·ªùng Trung h·ªçc Karasuno</h2>
        <p>
          Tr∆∞·ªùng trung h·ªçc <b>Karasuno</b> (ÁÉèÈáéÈ´òÊ†°, Karasuno K≈çk≈ç) n·∫±m t·∫°i t·ªânh Miyagi, Nh·∫≠t B·∫£n. ƒê√¢y l√† n∆°i t·ª´ng c√≥ ƒë·ªôi b√≥ng chuy·ªÅn nam huy·ªÅn tho·∫°i, n·ªïi danh l√† "<i>Nh·ªØng con qu·∫° m·∫°nh m·∫Ω c·ªßa mi·ªÅn B·∫Øc</i>". 
          Sau th·ªùi k·ª≥ ho√†ng kim, Karasuno d·∫ßn ƒë√°nh m·∫•t phong ƒë·ªô v√† b·ªã g·ªçi v·ªõi bi·ªát danh "<i>Nh·ªØng con qu·∫° kh√¥ng th·ªÉ bay</i>".
        </p>
        <p>
          M·ªçi th·ª© thay ƒë·ªïi khi <b>Sh≈çy≈ç Hinata</b> c√πng <b>Tobio Kageyama</b> gia nh·∫≠p ƒë·ªôi b√≥ng. 
          D∆∞·ªõi s·ª± d·∫´n d·∫Øt c·ªßa ƒë·ªôi tr∆∞·ªüng <b>Daichi Sawamura</b> v√† hu·∫•n luy·ªán vi√™n <b>Keishin Ukai</b>, 
          Karasuno t√°i sinh v·ªõi l·ªëi ch∆°i t·ªëc ƒë·ªô v√† tinh th·∫ßn ƒë·ªìng ƒë·ªôi m·∫°nh m·∫Ω, n·ªïi b·∫≠t v·ªõi chi·∫øn thu·∫≠t ‚Äú<b>Freak Quick</b>‚Äù.
        </p>
        <p>
          Sau nhi·ªÅu n·ªó l·ª±c, Karasuno ƒë√£ l·∫•y l·∫°i danh ti·∫øng, ti·∫øn t·ªõi gi·∫£i v√¥ ƒë·ªãch qu·ªëc gia v√† t√°i l·∫≠p ‚Äú<i>Tr·∫≠n chi·∫øn ·ªü b√£i r√°c</i>‚Äù l·ªãch s·ª≠ v·ªõi Nekoma. 
          H·ªç ƒë√£ ch·ª©ng minh: D√π ƒë√¥i c√°nh t·ª´ng g√£y, ‚ÄúNh·ªØng con qu·∫° Karasuno‚Äù v·∫´n c√≥ th·ªÉ bay cao m·ªôt l·∫ßn n·ªØa.
        </p>
      </div>
  
      <div class="intro-gallery">
        <img src="https://pbs.twimg.com/media/DY7efFmWAAAD1Of.jpg:large" alt="Karasuno School">
        <img src="https://picfiles.alphacoders.com/404/thumb-1920-404801.png" alt="Hinata Shoyo">
        <img src="https://preview.redd.it/bmhpti6c2ma51.jpg?width=1080&crop=smart&auto=webp&s=6ddaebaf00f55c0023d0de4d7827a3e96d9f8a0e" alt="Karasuno team match">
      </div>
    </div>
  </section>
  
  <section class="media-section">
      <h2>üé¨ Tuy·ªÉn t·∫≠p Video N·ªïi b·∫≠t</h2>
      <div class="video-grid">
          <div class="video-wrapper">
            <a href="https://www.bilibili.tv/vi/video/4794307460861952" target="_blank" title="Xem video Bilibili">
                <img src="https://cdn-media.sforum.vn/storage/app/media/quynh/phim-haikyuu-tran-chien-bai-phe-lieu-thumbnail.jpg" 
                     alt="Thumbnail m·ªõi cho video Bilibili" 
                     style="width: 100%; height: 100%; object-fit: cover; display: block; cursor: pointer; border-radius: 8px;">
            </a>
        </div>
          <div class="video-wrapper">
              <iframe 
                  src="https://www.youtube.com/embed/_muTDdDSHwQ" 
                  title="YouTube video player" 
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                  referrerpolicy="strict-origin-when-cross-origin" 
                  allowfullscreen>
              </iframe>
          </div>
          <div class="video-wrapper">
              <iframe 
                  src="https://www.youtube.com/embed/VKviyEGvb94" 
                  title="YouTube video player (Freak Quick)" 
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                  referrerpolicy="strict-origin-when-cross-origin" 
                  allowfullscreen>
              </iframe>
          </div>
      </div>
  </section>
  <div class="filter-container">
    <label for="positionFilter">L·ªçc theo v·ªã tr√≠: </label>
    <select id="positionFilter">
      <option value="all">T·∫•t c·∫£</option>
      <option value="setter">Setter</option>
      <option value="spiker">Wing Spiker</option>
      <option value="middle">Middle Blocker</option>
      <option value="libero">Libero</option>
      <option value="coach">HLV</option>
    </select>
  </div>
  
  <div class="team-container" id="teamContainer">
    <div class="player-card" data-position="middle" data-name="Sh≈çy≈ç Hinata" data-height="162.8" data-id="p10" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7cn-df0d2e40-98af-4554-aa5a-849885eb95f3.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___hinata_shoyo_by_shalinr_deve7cn-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdjbi1kZjBkMmU0MC05OGFmLTQ1NTQtYWE1YS04NDk4ODVlYjk1ZjMuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.wbRRw87UmH2c9_z3e3DlOPRvKPM9GLUmbbjIcYzIEkQ" alt="Shoyo Hinata">
      <div class="player-info">
        <div class="player-name">Sh≈çy≈ç Hinata</div>
        <div class="player-position">Middle Blocker</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 162.8 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 51.9 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 333 cm</p>
        <p><b>S·ªë √°o:</b> 10</p>
      </div>
    </div>
  
    <div class="player-card" data-position="setter" data-name="Tobio Kageyama" data-height="180.6" data-id="p9" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7sz-ed457501-d418-456f-9573-5dc5e943f6bc.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___kageyama_tobio_by_shalinr_deve7sz-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdzei1lZDQ1NzUwMS1kNDE4LTQ1NmYtOTU3My01ZGM1ZTk0M2Y2YmMuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.3yrNgRmrvvjn9yxzW7LEGQ-H1P1O1D65vImV_RNOf3g" alt="Tobio Kageyama">
      <div class="player-info">
        <div class="player-name">Tobio Kageyama</div>
        <div class="player-position">Setter</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 180.6 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 66.3 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 335 cm</p>
        <p><b>S·ªë √°o:</b> 9</p>
      </div>
    </div>
  
    <div class="player-card" data-position="spiker" data-name="Daichi Sawamura" data-height="176.8" data-id="p1" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7kq-fc487df2-c4db-4120-9997-fc9fb46caaf2.jpg/v1/fill/w_283,h_400,q_70,strp/haikyuu__poster___sawamura_daichi_by_shalinr_deve7kq-400t.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdrcS1mYzQ4N2RmMi1jNGRiLTQxMjAtOTk5Ny1mYzlmYjQ2Y2FhZjIuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.WbWuB0aOQWXZCcCmM--I_wFE79RiBB_HsewDoPpZMgY" alt="Daichi Sawamura">
      <div class="player-info">
        <div class="player-name">Daichi Sawamura</div>
        <div class="player-position">Wing Spiker (ƒê·ªôi tr∆∞·ªüng)</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 176.8 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 75.2 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 315 cm</p>
        <p><b>S·ªë √°o:</b> 1</p>
      </div>
    </div>
  
    <div class="player-card" data-position="setter" data-name="K≈çshi Sugawara" data-height="174.3" data-id="p2" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve78j-a567049a-fe0b-468a-bb09-2f6ace36166b.jpg/v1/fit/w_300,h_900,q_70,strp/haikyuu__poster___sugawara_koshi__by_shalinr_deve78j-300w.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTc4ai1hNTY3MDQ5YS1mZTBiLTQ2OGEtYmIwOS0yZjZhY2UzNjE2NmIuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.weEVWji1hUb7PRAOJ_9sJhbZ1X9iCVjmFWiql00pAjk" alt="Koshi Sugawara">
      <div class="player-info">
        <div class="player-name">K≈çshi Sugawara</div>
        <div class="player-position">Setter</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 174.3 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 63.5 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 320 cm</p>
        <p><b>S·ªë √°o:</b> 2</p>
      </div>
    </div>
  
    <div class="player-card" data-position="spiker" data-name="Asahi Azumane" data-height="184.7" data-id="p3" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve79s-8f3e483a-380c-4df4-a8d8-f55a41c8a110.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___azumane_asahi_by_shalinr_deve79s-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTc5cy04ZjNlNDgzYS0zODBjLTRkZjQtYThkOC1mNTVhNDFjOGExMTAuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.vA9WIklRgobacCn8mJzI8JTho6lEFfLSO0TF7jei0No" alt="Asahi Azumane">
      <div class="player-info">
        <div class="player-name">Asahi Azumane</div>
        <div class="player-position">Wing Spiker (Ace)</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 184.7 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 75.2 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 330 cm</p>
        <p><b>S·ªë √°o:</b> 3</p>
      </div>
    </div>
  
    <div class="player-card" data-position="libero" data-name="Y≈´ Nishinoya" data-height="160.5" data-id="p4" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7iw-edac7fd9-f74b-4880-8b3d-2b73c55aeff0.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___nishinoya_yu_by_shalinr_deve7iw-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdpdy1lZGFjN2ZkOS1mNzRiLTQ4ODAtOGIzZC0yYjczYzU1YWVmZjAuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.UuYB44MMEVAC-gNmpBavvmFIlm3tA5C-3_dDknbklgU" alt="Yu Nishinoya">
      <div class="player-info">
        <div class="player-name">Y≈´ Nishinoya</div>
        <div class="player-position">Libero</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 160.5 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 51.1 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 325 cm</p>
        <p><b>S·ªë √°o:</b> 4</p>
      </div>
    </div>
  
    <div class="player-card" data-position="spiker" data-name="Ry≈´nosuke Tanaka" data-height="178.2" data-id="p5" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7h5-c6b15941-0f43-4085-a07e-5a86b2782958.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___tanaka_ryunosuke_by_shalinr_deve7h5-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdoNS1jNmIxNTk0MS0wZjQzLTQwODUtYTA3ZS01YTg2YjI3ODI5NTguanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.mpvcNkQE1axvOoXnccZoPQylzxfyJamB7DPnGtBOU64" alt="Ryunosuke Tanaka">
      <div class="player-info">
        <div class="player-name">Ry≈´nosuke Tanaka</div>
        <div class="player-position">Wing Spiker</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 178.2 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 68.8 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 325 cm</p>
        <p><b>S·ªë √°o:</b> 5</p>
      </div>
    </div>
  
    <div class="player-card" data-position="middle" data-name="Kei Tsukishima" data-height="190.1" data-id="p11" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7v1-d95cbb7d-1a57-4b72-8d99-394c4efd14cd.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___tsukishima_kei_by_shalinr_deve7v1-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTd2MS1kOTVjYmI3ZC0xYTU3LTRiNzItOGQ5OS0zOTRjNGVmZDE0Y2QuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.7o1TUB35RQiFUboIGyfjc4jMejb0C_iHusENRrKnE88" alt="Kei Tsukishima">
      <div class="player-info">
        <div class="player-name">Kei Tsukishima</div>
        <div class="player-position">Middle Blocker</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 190.1 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 68.4 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 323 cm</p>
        <p><b>S·ªë √°o:</b> 11</p>
      </div>
    </div>
  
    <div class="player-card" data-position="middle" data-name="Tadashi Yamaguchi" data-height="179.5" data-id="p12" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7n7-99d08734-bfe0-41ef-b01c-5f2f39fd1469.jpg/v1/fill/w_283,h_400,q_70,strp/haikyuu__poster___yamaguchi_tadashi_by_shalinr_deve7n7-400t.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTduNy05OWQwODczNC1iZmUwLTQxZWYtYjAxYy01ZjJmMzlmZDE0NjkuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.50qUmD7N6IKJU0cklWjgANfTGEB5OBvbfFIZCFsiPIE" alt="Tadashi Yamaguchi">
      <div class="player-info">
        <div class="player-name">Tadashi Yamaguchi</div>
        <div class="player-position">Middle Blocker (Pinch Server)</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 179.5 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 63.0 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 310 cm</p>
        <p><b>S·ªë √°o:</b> 12</p>
      </div>
    </div>
  
    <div class="player-card" data-position="spiker" data-name="Chikara Ennoshita" data-height="175.4" data-id="p6" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7q6-706da9b3-18a6-4396-b231-afcad591be7a.jpg/v1/fit/w_793,h_1122,q_70,strp/haikyuu__poster___ennoshita_chikara_by_shalinr_deve7q6-414w-2x.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdxNi03MDZkYTliMy0xOGE2LTQzOTYtYjIzMS1hZmNhZDU5MWJlN2EuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.BSSG7hkPMTn47Z-Ivc-AyloMhpYjarPNtPB4y3dLm2w" alt="Chikara Ennoshita">
      <div class="player-info">
        <div class="player-name">Chikara Ennoshita</div>
        <div class="player-position">Wing Spiker (Ph√≥ ƒë·ªôi tr∆∞·ªüng)</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 175.4 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 66.4 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 310 cm</p>
        <p><b>S·ªë √°o:</b> 6</p>
      </div>
    </div>
  
    <div class="player-card" data-position="spiker" data-name="Hisashi Kinoshita" data-height="174.7" data-id="p7" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7bb-1af6ecd8-7ec9-4beb-b6df-7f400a803d97.jpg/v1/fill/w_283,h_400,q_70,strp/haikyuu__poster___kinashita_hisasi_by_shalinr_deve7bb-400t.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdiYi0xYWY2ZWNkOC03ZWM5LTRiZWItYjZkZi03ZjQwMGE4MDNkOTcuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.0azyx3IibZJ_xXsH0iiNnXqJWmjNPcS-YJ9q_G1ItW4" alt="Hisashi Kinoshita">
      <div class="player-info">
        <div class="player-name">Hisashi Kinoshita</div>
        <div class="player-position">Wing Spiker</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 174.7 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 63.0 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 305 cm</p>
        <p><b>S·ªë √°o:</b> 7</p>
      </div>
    </div>
  
    <div class="player-card" data-position="middle" data-name="Kazuhito Narita" data-height="180.3" data-id="p8" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7on-f478054f-b826-407c-9390-78e7cd07272a.jpg/v1/fill/w_283,h_400,q_70,strp/haikyuu__poster___narita_kazuhito_by_shalinr_deve7on-400t.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTdvbi1mNDc4MDU0Zi1iODI2LTQwN2MtOTM5MC03OGU3Y2QwNzI3MmEuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.KzuS6LXRM7qq23m6FgK2iy2dAwEfLeU6QutwaEu9vsI" alt="Kazuhito Narita">
      <div class="player-info">
        <div class="player-name">Kazuhito Narita</div>
        <div class="player-position">Middle Blocker</div>
      </div>
      <div class="player-details">
        <p><b>Chi·ªÅu cao:</b> 180.3 cm</p>
        <p><b>C√¢n n·∫∑ng:</b> 70.2 kg</p>
        <p><b>S·ª©c b·∫≠t:</b> 315 cm</p>
        <p><b>S·ªë √°o:</b> 8</p>
      </div>
    </div>
  
    <div class="player-card" data-position="coach" data-name="Keishin Ukai" data-height="26" data-id="coach" draggable="false">
      <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/4b6a07b1-dbe9-46f6-be2b-2b9b528c7906/deve7wb-83124ba3-465c-4f66-8c2f-01cccefdedf3.jpg/v1/crop/w_247,h_350,x_0,y_0,scl_0.31273644388398,q_70,strp/haikyuu__poster___ukai_keishi_by_shalinr_deve7wb-350t.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTEyMiIsInBhdGgiOiIvZi80YjZhMDdiMS1kYmU5LTQ2ZjYtYmUyYi0yYjliNTI4Yzc5MDYvZGV2ZTd3Yi04MzEyNGJhMy00NjVjLTRmNjYtOGMyZi0wMWNjY2VmZGVkZjMuanBnIiwid2lkdGgiOiI8PTc5MyJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.UA8wgEA05Gripy_fZNffv56I0eTTIRoSyqtXYxcv5Qg" alt="Ukai Keishin">
      <div class="player-info">
        <div class="player-name">Keishin Ukai</div>
        <div class="player-position">Hu·∫•n luy·ªán vi√™n</div>
      </div>
      <div class="player-details">
        <p><b>Tu·ªïi:</b> 26</p>
        <p><b>Ngh·ªÅ:</b> HLV ƒë·ªôi Karasuno</p>
        <p><b>Bi·ªát danh:</b> "Coach Ukai"</p>
      </div>
    </div>
  </div>
  
  <footer>¬© 2025 Karasuno Volleyball Club - Thi·∫øt k·∫ø b·ªüi TMinh üòé</footer>
  
  <div id="coachModal" class="coach-modal" aria-hidden="true">
    <div class="coach-panel" role="dialog" aria-modal="true">
      <div class="coach-left">
        <h3>Danh s√°ch c·∫ßu th·ªß</h3>
        <div class="player-list" id="coachPlayerList">
          </div>
        <div style="margin-top:12px;">
          <label class="small muted">Ho·∫∑c upload nh·∫°c n·ªÅn (mp3) cho trang:</label><br>
          <input id="musicFile" type="file" accept="audio/*" style="margin-top:8px;">
        </div>
      </div>
  
      <div class="court" aria-label="S√¢n b√≥ng">
        <div style="display:flex; width:100%; justify-content:space-between; align-items:center;">
          <div style="color:var(--accent); font-weight:800;">üèê Coach Mode</div>
          <div style="display:flex; gap:8px;">
            <button id="loadLineup" class="btn">T·∫£i ƒë·ªôi</button> <button id="clearSlots" class="btn">X√≥a ƒë·ªôi</button>
            <button id="saveLineup" class="btn">L∆∞u ƒë·ªôi</button>
            <button id="closeCoach" class="btn">ƒê√≥ng</button>
          </div>
        </div>
  
        <div class="court-inner" id="courtInner" aria-hidden="false">
          <div class="slot slot-1" data-slot="1">Setter</div>
          <div class="slot slot-2" data-slot="2">Left Front</div>
          <div class="slot slot-3" data-slot="3">Right Front</div>
          <div class="slot slot-4" data-slot="4">Left Back</div>
          <div class="slot slot-5" data-slot="5">Right Back</div>
          <div class="slot slot-6" data-slot="6">Libero</div>
        </div>
      </div>
  
      <div class="coach-right">
        <h3>T·ªïng quan</h3>
        <div class="summary">
          <p class="small">ƒê·ªôi ƒë√£ ch·ªçn: <span id="pickedCount">0</span>/6</p>
          <p class="small">Chi·ªÅu cao trung b√¨nh: <strong id="avgHeight">0</strong> cm</p>
          <div style="margin-top:10px;">
            <h4 class="small">ƒê·ªôi h√¨nh hi·ªán t·∫°i</h4>
            <ol id="lineupList" style="padding-left:18px; margin-top:6px;"></ol>
          </div>
        </div>
  
        <div style="margin-top:12px;">
          <h4 class="small">H∆∞·ªõng d·∫´n</h4>
          <p class="muted small">K√©o m·ªôt c·∫ßu th·ªß t·ª´ danh s√°ch sang v·ªã tr√≠ b·∫°n mu·ªën. B·∫°n c√≥ th·ªÉ b·ªè v√†o t·ªëi ƒëa 6 ng∆∞·ªùi. Nh·∫•n "T·∫£i ƒë·ªôi" ƒë·ªÉ kh√¥i ph·ª•c ƒë·ªôi h√¨nh ƒë√£ l∆∞u.</p>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // -----------------------------------------------------------------------------------
    // 1. C√ÅC BI·∫æN CHUNG (GLOBAL DATA)
    // -----------------------------------------------------------------------------------
    const $ = (s) => document.querySelector(s);
    const $$ = (s) => document.querySelectorAll(s);
  
    const playersData = Array.from($$('.player-card'))
      .filter(c => c.dataset.position !== 'coach')
      .map(c => ({
        id: c.dataset.id,
        name: c.dataset.name,
        height: Number(c.dataset.height),
        position: c.dataset.position,
        img: c.querySelector('img')?.src || ''
      }));
  
    // -----------------------------------------------------------------------------------
    // 2. LOGIC CHUNG V√Ä L·ªåC C·∫¶U TH·ª¶ (GENERAL UI)
    // -----------------------------------------------------------------------------------
    const UILogic = (() => {
      // Staggered entrance
      $$('.player-card').forEach((c, i) => {
        c.style.animationDelay = (i * 0.06) + 's';
      });
  
      // IntersectionObserver for subtle reveal
      const io = new IntersectionObserver((entries) => {
        entries.forEach(ent => {
          if (ent.isIntersecting) ent.target.style.opacity = 1;
        });
      }, { threshold: 0.12 });
      $$('.player-card').forEach(c => io.observe(c));
  
      // Filter logic
      $('#positionFilter').addEventListener('change', (e) => {
        const value = e.target.value;
        $$('.player-card').forEach(card => {
          if (value === 'all' || card.dataset.position === value) {
            card.style.display = 'block';
            card.style.opacity = '1';
            card.style.transform = 'scale(1)';
          } else {
            card.style.opacity = '0';
            card.style.transform = 'scale(0.9)';
            setTimeout(() => { card.style.display = 'none'; }, 350);
          }
        });
      });
  
      // Theme toggle
      const themeToggle = $('#themeToggle');
      const dot = themeToggle.querySelector('.dot');
      const storedTheme = localStorage.getItem('karasuno_theme') || 'dark';
      document.body.setAttribute('data-theme', storedTheme);
      if (storedTheme === 'light') dot.style.transform = 'translateX(20px)';
  
      themeToggle.addEventListener('click', () => {
        const current = document.body.getAttribute('data-theme');
        const next = current === 'light' ? 'dark' : 'light';
        document.body.setAttribute('data-theme', next);
        localStorage.setItem('karasuno_theme', next);
        dot.style.transform = next === 'light' ? 'translateX(20px)' : 'translateX(0)';
      });
    })();
  
    // -----------------------------------------------------------------------------------
    // 3. LOGIC √ÇM THANH (MUSIC PLAYER)
    // -----------------------------------------------------------------------------------
    const MusicPlayer = (() => {
      let audioCtx = null;
      let bgGain = null;
      let isPlaying = false;
      let fileBuffer = null;
      let fileSource = null;
      let synthOsc = null;
      let synthGain = null;
      const MUSIC_VOLUME = 0.12;
  
      function createAudioContext(){
        if (!audioCtx) {
          audioCtx = new (window.AudioContext || window.webkitAudioContext)();
          bgGain = audioCtx.createGain();
          bgGain.gain.value = 0.0001; // Start near silence for fade in
          bgGain.connect(audioCtx.destination);
        }
      }
  
      function startDefaultLoop(){
        createAudioContext();
        // Logic for the synth (kept simple)
        synthOsc = audioCtx.createOscillator();
        synthGain = audioCtx.createGain();
        synthOsc.type = 'sawtooth';
        synthOsc.frequency.value = 220;
        synthGain.gain.value = 0;
        synthOsc.connect(synthGain);
        synthGain.connect(bgGain);
        synthOsc.start();
        
        let t = 0;
        const pulse = () => {
          if (!synthGain || !isPlaying) return;
          synthGain.gain.cancelScheduledValues(audioCtx.currentTime);
          synthGain.gain.setValueAtTime(0, audioCtx.currentTime);
          synthGain.gain.linearRampToValueAtTime(0.06, audioCtx.currentTime + 0.02);
          synthGain.gain.linearRampToValueAtTime(0.0, audioCtx.currentTime + 0.5);
          t = (t + 1) % 2;
          setTimeout(pulse, 500);
        };
        isPlaying = true;
        pulse();
      }
  
      function stopMusic(callback) {
        if (!audioCtx) return;
        isPlaying = false;
        const now = audioCtx.currentTime;
        bgGain.gain.cancelScheduledValues(now);
        // Fade Out effect
        bgGain.gain.linearRampToValueAtTime(0.0001, now + 0.5); 
        setTimeout(() => {
          if (fileSource) { try { fileSource.stop(); fileSource.disconnect(); fileSource = null; } catch(e){} }
          if (synthOsc) { try { synthOsc.stop(); synthOsc.disconnect(); synthOsc = null; } catch(e){} }
          if (synthGain) { synthGain.disconnect(); synthGain = null; }
          if (callback) callback();
        }, 550);
      }
  
      function startMusic(buffer) {
        createAudioContext();
        const now = audioCtx.currentTime;
        bgGain.gain.cancelScheduledValues(now);
        bgGain.gain.setValueAtTime(0.0001, now);
        // Fade In effect
        bgGain.gain.linearRampToValueAtTime(MUSIC_VOLUME, now + 1.0); 
        
        if (buffer) {
          fileSource = audioCtx.createBufferSource();
          fileSource.buffer = buffer;
          fileSource.loop = true;
          fileSource.connect(bgGain);
          fileSource.start();
        } else {
          startDefaultLoop();
        }
        isPlaying = true;
      }
  
      $('#musicToggle').addEventListener('click', () => {
        if (isPlaying) {
          stopMusic(() => {
            $('#musicToggle').textContent = 'üîä B·∫≠t nh·∫°c';
          });
        } else {
          startMusic(fileBuffer);
          $('#musicToggle').textContent = 'üîà T·∫Øt nh·∫°c';
        }
      });
  
      // File Upload Handler
      $('#musicFile').addEventListener('change', async (e) => {
        const f = e.target.files[0];
        if (!f) return;
        const arr = await f.arrayBuffer();
        createAudioContext();
        audioCtx.decodeAudioData(arr, (buffer) => {
          fileBuffer = buffer;
          if (isPlaying) {
            stopMusic(() => {
              startMusic(fileBuffer);
              $('#musicToggle').textContent = 'üîà T·∫Øt nh·∫°c';
            });
          }
        }, (err) => { console.warn('decodeAudioData failed', err); alert('L·ªói: Kh√¥ng th·ªÉ gi·∫£i m√£ file √¢m thanh.'); });
      });
  
      // Player sound on card click
      $$('.player-card').forEach(pc => {
        pc.addEventListener('click', () => {
          if (!audioCtx) createAudioContext();
          const osc = audioCtx.createOscillator();
          const g = audioCtx.createGain();
          osc.type = 'square';
          osc.frequency.setValueAtTime(330 + Math.random()*150, audioCtx.currentTime);
          g.gain.value = 0.0001;
          osc.connect(g);
          g.connect(audioCtx.destination);
          const now = audioCtx.currentTime;
          g.gain.exponentialRampToValueAtTime(0.08, now + 0.01);
          g.gain.exponentialRampToValueAtTime(0.001, now + 0.18);
          osc.start();
          osc.stop(now + 0.18);
        });
      });
  
      // Close coach mode sound
      $('#closeCoach').addEventListener('click', ()=> {
          if (!audioCtx) return;
          const osc = audioCtx.createOscillator();
          const g = audioCtx.createGain();
          osc.connect(g); g.connect(audioCtx.destination);
          osc.frequency.value = 700;
          g.gain.value = 0.0001;
          const now = audioCtx.currentTime;
          g.gain.exponentialRampToValueAtTime(0.08, now + 0.01);
          g.gain.exponentialRampToValueAtTime(0.001, now + 0.18);
          osc.start(); osc.stop(now + 0.2);
      });
  
    })();
  
  
    // -----------------------------------------------------------------------------------
    // 4. LOGIC COACH MODE (DRAG & DROP, LOCALSTORAGE)
    // -----------------------------------------------------------------------------------
    const CoachMode = (() => {
      const coachModal = $('#coachModal');
      const coachPlayerList = $('#coachPlayerList');
      const slots = Array.from($$('.slot'));
      const LINEUP_KEY = 'karasuno_lineup';
  
      function getPlayerDetail(id) {
        return playersData.find(p => p.id === id);
      }
  
      function renderSlot(slotElement, player) {
        if (player) {
          slotElement.innerHTML = `<div style="display:flex;flex-direction:column;align-items:center;gap:6px;"><img src="${player.img}" style="width:64px;height:64px;border-radius:8px;object-fit:cover;"><div style="font-weight:800;font-size:0.86rem">${player.name}</div><div class="muted" style="font-size:0.78rem">${player.position}</div></div>`;
          slotElement.classList.add('filled');
          slotElement.dataset.player = player.id;
          slotElement.dataset.playerName = player.name;
          slotElement.dataset.playerHeight = player.height;
        } else {
          slotElement.innerHTML = slotElement.dataset.slotLabel || slotElement.textContent;
          slotElement.classList.remove('filled');
          slotElement.dataset.player = '';
          slotElement.dataset.playerName = '';
          slotElement.dataset.playerHeight = '';
        }
      }
  
      function updateSummary(){
        const filled = slots.filter(s => s.dataset.player);
        $('#pickedCount').textContent = filled.length;
  
        let totalHeight = 0;
        filled.forEach(s => totalHeight += Number(s.dataset.playerHeight || 0));
  
        if (filled.length > 0){
          const avg = (totalHeight / filled.length);
          $('#avgHeight').textContent = Math.round(avg * 10)/10;
        } else {
          $('#avgHeight').textContent = 0;
        }
  
        $('#lineupList').innerHTML = '';
        filled.forEach((s) => {
          const li = document.createElement('li');
          li.textContent = `${s.dataset.playerName} ‚Äî ${s.dataset.playerHeight} cm`;
          $('#lineupList').appendChild(li);
        });
      }
  
      // Load lineup from LocalStorage
      function loadLineup() {
        const savedLineup = JSON.parse(localStorage.getItem(LINEUP_KEY) || '[]');
        if (savedLineup.length === 0) {
          alert('Kh√¥ng c√≥ ƒë·ªôi h√¨nh n√†o ƒë∆∞·ª£c l∆∞u trong tr√¨nh duy·ªát.');
          return;
        }
  
        $('#clearSlots').click(); // Clear current slots first
  
        slots.forEach((slot, index) => {
          const playerId = savedLineup[index];
          if (playerId) {
            const player = getPlayerDetail(playerId);
            if (player) renderSlot(slot, player);
          }
        });
        updateSummary();
        alert('ƒê·ªôi h√¨nh ƒë√£ ƒë∆∞·ª£c t·∫£i th√†nh c√¥ng!');
      }
  
      // Save lineup to LocalStorage
      function saveLineup() {
        const lineup = slots.map(s => s.dataset.player || null);
        localStorage.setItem(LINEUP_KEY, JSON.stringify(lineup));
        alert('ƒê·ªôi h√¨nh ƒë√£ ƒë∆∞·ª£c l∆∞u v√†o tr√¨nh duy·ªát (Local Storage).');
      }
  
      // Build coach list (kept as is)
      function populateCoachList(){
        coachPlayerList.innerHTML = '';
        playersData.forEach(p => {
          const div = document.createElement('div');
          div.className = 'coach-card';
          div.draggable = true;
          div.dataset.playerId = p.id;
          div.dataset.name = p.name;
          div.dataset.height = p.height;
          div.dataset.position = p.position;
          div.innerHTML = `<img src="${p.img}" alt="${p.name}"><div><strong style="font-size:0.95rem">${p.name}</strong><div class="muted" style="font-size:0.79rem">${p.position} ‚Ä¢ ${p.height} cm</div></div>`;
          coachPlayerList.appendChild(div);
  
          div.addEventListener('dragstart', (ev) => {
            ev.dataTransfer.setData('text/plain', JSON.stringify(p));
          });
        });
      }
  
      // Setup drag & drop
      slots.forEach(slot => {
        slot.dataset.slotLabel = slot.textContent; // Store original label
        slot.addEventListener('dragover', (e) => { e.preventDefault(); slot.style.transform = 'scale(1.04)'; slot.style.boxShadow = '0 8px 20px rgba(255,140,0,0.3)'; });
        slot.addEventListener('dragleave', (e) => { slot.style.transform = ''; slot.style.boxShadow = ''; });
        slot.addEventListener('drop', (e) => {
          e.preventDefault();
          slot.style.transform = ''; slot.style.boxShadow = '';
          const raw = e.dataTransfer.getData('text/plain');
          if (!raw) return;
          const p = JSON.parse(raw);
          renderSlot(slot, p);
          updateSummary();
        });
        // Double click to clear slot
        slot.addEventListener('dblclick', () => {
          renderSlot(slot, null);
          updateSummary();
        });
      });
  
      // Event listeners
      $('#coachBtn').addEventListener('click', () => {
        coachModal.style.display = 'flex';
        coachModal.setAttribute('aria-hidden', 'false');
        populateCoachList();
        updateSummary(); // update summary on open
      });
      $('#closeCoach').addEventListener('click', () => {
        coachModal.style.display = 'none';
        coachModal.setAttribute('aria-hidden', 'true');
      });
      $('#clearSlots').addEventListener('click', () => {
        slots.forEach(s => renderSlot(s, null));
        updateSummary();
      });
      $('#saveLineup').addEventListener('click', saveLineup);
      $('#loadLineup').addEventListener('click', loadLineup); // New button logic
      coachModal.addEventListener('click', (e) => {
        if (e.target === coachModal) {
          coachModal.style.display = 'none';
          coachModal.setAttribute('aria-hidden','true');
        }
      });
  
      // Auto-fill on list click
      coachPlayerList.addEventListener('click', (e) => {
        const card = e.target.closest('.coach-card');
        if (!card) return;
        const data = getPlayerDetail(card.dataset.playerId);
        const empty = slots.find(s=>!s.dataset.player);
        if (!empty) { alert('ƒê√£ ƒë·∫ßy 6 v·ªã tr√≠.'); return; }
        renderSlot(empty, data);
        updateSummary();
      });
  
      // Load initial lineup on first open (optional, but good)
      coachModal.addEventListener('transitionend', () => {
        if (coachModal.style.display === 'flex' && !coachModal.dataset.loaded) {
          loadLineup(); // T·∫£i ƒë·ªôi h√¨nh ƒë√£ l∆∞u khi m·ªü modal l·∫ßn ƒë·∫ßu
          coachModal.dataset.loaded = true;
        }
      }, { once: true });
  
  
    })();
  </script>
  
  </body>
  </html>


